<!-- New Design -->

<div class="mt-3">


    <div class="card mat-elevation-z mb-3">
        <div class="card-body">
            <h2 class="h2"><span>{{'allTypeContent.tenant' |
                    translate}}:</span> {{'singleBinding.tenantName' | translate : {tenantName:tenantName} }}</h2>
            <div id="Description">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                Address: <b>{{Prestreet}}</b>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                Company: <b>{{Precompany}}</b>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                City: <b>{{Precity}}</b>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                Email: <b>{{Preemail}}</b>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                State: <b>{{Prestate}}</b>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                Phone: <b>{{Prephone}}</b>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                Country: <b>{{Precountry}}</b>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                Status: <b>{{Prestatus}}</b>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                Zip Code: <b>{{PrezipCode}}</b>
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="list-tick">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                            <p>
                                Merchant Key: <b>{{PremerchantKey}}</b>
                            </p>
                        </div>
                    </div>

                    <div class="row charger-btn-outer">
                        <div class="col-lg-12">
                            <a (click)="showEditForm()" class="btn edit">Edit</a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="EditForm" class="hidedive">
                <form [formGroup]="tenantForm" #tenantDetail="ngForm" class="margin-bottom-40 ucg-container"
                    autocomplete="off">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-xs-12 left-section">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <!-- [ngClass]="{'has-error' : name && isSubmitClicked}" -->
                                    <mat-form-field class="w-100 ucg-input" appearance="outline">
                                        <mat-label>{{'formFields.name' | translate}}</mat-label>
                                        <input matInput autocomplete="off"
                                            placeholder="{{'formFields.name' | translate}}" tabindex="1" maxlength="150"
                                            min="3" max="150" formControlName="name" required>
                                        <mat-error>
                                            <span
                                                *ngIf="(!tenantForm.get('name')?.valid && !tenantForm.get('name')?.errors?.serverError) && !name">
                                                {{'requiredFields.name' | translate }}</span>
                                            <span
                                                *ngIf="!tenantForm.get('name')?.errors?.serverError && (name || (tenantForm.get('name')?.valid && !name))">
                                                {{'requiredFields.nameLength' | translate }}</span>
                                        </mat-error>
                                        <mat-error>
                                            <span *ngIf="tenantForm.get('name')?.errors?.serverError | translate">
                                                {{tenantForm.get('name')?.errors?.serverError | translate}}</span>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6">
                                    <mat-form-field class="w-100 ucg-input" appearance="outline">
                                        <mat-label>{{'formFields.address' | translate}}</mat-label>
                                        <input matInput autocomplete="off"
                                            placeholder="{{'formFields.address' | translate}}" tabindex="6"
                                            maxlength="250" max="250" min="1" formControlName="street" required>
                                        <mat-error>
                                            <span
                                                *ngIf="(!tenantForm.get('street')?.errors?.serverError && !tenantForm.get('street')?.valid) && !street">
                                                {{'requiredFields.street' | translate }}</span>
                                            <span
                                                *ngIf="!tenantForm.get('street')?.errors?.serverError && (address || (tenantForm.get('street')?.valid && !address))">
                                                {{'requiredFields.streetLength' | translate }}</span>
                                        </mat-error>
                                        <mat-error>
                                            <span *ngIf="tenantForm.get('street')?.errors?.serverError | translate">
                                                {{tenantForm.get('street')?.errors?.serverError | translate}}</span>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6">
                                    <mat-form-field class="w-100 ucg-input" appearance="outline">
                                        <mat-label>{{'formFields.company' | translate}}</mat-label>
                                        <input matInput autocomplete="off"
                                            placeholder="{{'formFields.company' | translate}}" tabindex="2"
                                            maxlength="250" min="15" max="250" formControlName="company" required>
                                        <mat-error>
                                            <span
                                                *ngIf="(!tenantForm.get('company')?.valid && !tenantForm.get('company')?.errors?.serverError) && !companyName">
                                                {{'requiredFields.company' | translate }}</span>
                                            <span
                                                *ngIf="!tenantForm.get('company')?.errors?.serverError && (companyName || (tenantForm.get('company')?.valid && !companyName))">
                                                {{'requiredFields.companyLength' | translate }}</span>
                                        </mat-error>
                                        <mat-error>
                                            <span *ngIf="tenantForm.get('company')?.errors?.serverError | translate">
                                                {{tenantForm.get('company')?.errors?.serverError | translate}}</span>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6">
                                    <mat-form-field class="w-100 ucg-input" appearance="outline">
                                        <mat-label>{{'formFields.city' | translate}}</mat-label>
                                        <input matInput autocomplete="off"
                                            placeholder="{{'formFields.city' | translate}}" tabindex="7" maxlength="100"
                                            min="2" max="100" formControlName="city" required>
                                        <mat-error>
                                            <span
                                                *ngIf="(!tenantForm.get('city')?.errors?.serverError && !tenantForm.get('city')?.valid) && !city">
                                                {{'requiredFields.city' | translate }}</span>
                                            <span
                                                *ngIf="!tenantForm.get('city')?.errors?.serverError && (city || (tenantForm.get('city')?.valid && !city))">
                                                {{'requiredFields.cityLength' | translate }}</span>
                                        </mat-error>
                                        <mat-error>
                                            <span *ngIf="tenantForm.get('city')?.errors?.serverError | translate">
                                                {{tenantForm.get('city')?.errors?.serverError | translate}}</span>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6">
                                    <mat-form-field class="w-100 ucg-input" appearance="outline">
                                        <mat-label>{{'formFields.email' | translate}}</mat-label>
                                        <input matInput autocomplete="off"
                                            placeholder="{{'formFields.email' | translate}}" tabindex="3"
                                            formControlName="email" required>
                                        <mat-error>
                                            <span
                                                *ngIf="(tenantForm.get('email')?.invalid || tenantForm.get('email')?.touched) && !email">
                                                {{'requiredFields.email' | translate }}</span>
                                            <span
                                                *ngIf="!tenantForm.get('email')?.errors?.serverError && tenantForm.get('email')?.errors?.email">
                                                {{'requiredFields.emailInvalid' | translate }}</span>
                                        </mat-error>
                                        <mat-error>
                                            <span *ngIf="tenantForm.get('email')?.errors?.serverError | translate">
                                                {{tenantForm.get('email')?.errors?.serverError | translate}}</span>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6">
                                    <mat-form-field class="w-100 ucg-input" appearance="outline">
                                        <mat-label>{{'formFields.state' | translate}}</mat-label>
                                        <input matInput autocomplete="off"
                                            placeholder="{{'formFields.state' | translate}}" tabindex="8"
                                            maxlength="100" min="2" max="100" formControlName="state" required>
                                        <mat-error>
                                            <span
                                                *ngIf="(!tenantForm.get('state')?.errors?.serverError && !tenantForm.get('state')?.valid) && !state">
                                                {{'requiredFields.state' | translate }}</span>
                                            <span
                                                *ngIf="!tenantForm.get('state')?.errors?.serverError && (state || (tenantForm.get('state')?.valid && !state))">
                                                {{'requiredFields.stateLength' | translate }}</span>
                                        </mat-error>
                                        <mat-error>
                                            <span *ngIf="tenantForm.get('state')?.errors?.serverError | translate">
                                                {{tenantForm.get('state')?.errors?.serverError | translate}}</span>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6">
                                    <mat-form-field class="w-100 ucg-input" appearance="outline">
                                        <mat-label>{{'formFields.phone' | translate}}</mat-label>
                                        <input matInput autocomplete="off"
                                            placeholder="{{'formFields.phone' | translate}}" tabindex="4" type="text"
                                            (keypress)="onKeyPress($event)" maxlength="15" min="10" max="15"
                                            formControlName="phone" required>
                                        <mat-error>
                                            <span
                                                *ngIf="(!tenantForm.get('phone')?.errors?.serverError && !tenantForm.get('phone')?.valid) && !tenantForm.get('phone')?.errors?.pattern  && !phone">
                                                {{'requiredFields.phone' | translate }}</span>
                                            <span
                                                *ngIf="!tenantForm.get('phone')?.errors?.serverError && (phone || tenantForm.get('phone')?.valid && !phone)">
                                                {{'requiredFields.phoneLength' | translate }}</span>
                                            <span *ngIf="tenantForm.get('phone')?.errors?.pattern | translate">
                                                {{'requiredFields.phonePattern' | translate}}</span>
                                        </mat-error>
                                        <mat-error>
                                            <span *ngIf="tenantForm.get('phone')?.errors?.serverError | translate">
                                                {{tenantForm.get('phone')?.errors?.serverError | translate}}</span>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6 ucg-input">
                                    <mat-form-field class="w-100" appearance="outline">
                                        <mat-label>{{'formFields.country' | translate }}</mat-label>
                                        <mat-select autocomplete="off" formControlName="country" tabindex="9" required>
                                            <mat-option *ngFor="let countryName of countryList"
                                                [value]="countryName.country">
                                                {{countryName.country}}
                                            </mat-option>
                                        </mat-select>
                                        <mat-error>
                                            <span
                                                *ngIf="(!tenantForm.get('country')?.errors?.serverError && !tenantForm.get('country')?.valid) && !country">
                                                {{'requiredFields.country' | translate }}</span>
                                            <span
                                                *ngIf="!tenantForm.get('country')?.errors?.serverError && (country || (tenantForm.get('country')?.valid && !country))">
                                                {{'requiredFields.countryLength' | translate }}</span>
                                        </mat-error>
                                        <mat-error>
                                            <span *ngIf="tenantForm.get('country')?.errors?.serverError">
                                                {{tenantForm.get('country')?.errors?.serverError | translate }}</span>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6 ucg-input">
                                    <mat-form-field class="w-100" appearance="outline">
                                        <mat-label>{{'formFields.status' | translate }}</mat-label>
                                        <mat-select autocomplete="off" formControlName="status" tabindex="5">
                                            <mat-option>{{'formFields.status' | translate }}</mat-option>
                                            <mat-option
                                                value="{{'formFields.active' | translate }}">{{'formFields.active' |
                                                translate }}</mat-option>
                                            <mat-option
                                                value="{{'formFields.pending' | translate }}">{{'formFields.pending'
                                                |
                                                translate }}</mat-option>
                                            <mat-option
                                                value="{{'formFields.inactive' | translate }}">{{'formFields.inactive' |
                                                translate }}</mat-option>
                                        </mat-select>
                                        <!-- <mat-error>
                                                    <span *ngIf="!siteForm.get('Status')?.valid">
                                                        Please select Status.</span>
                                                </mat-error>
                                                <mat-error>
                                                    <span *ngIf="!siteForm.get('Status')?.errors?.serverError">
                                                        {{siteForm.get('Status')?.errors?.serverError}}</span>                                            
                                                </mat-error> -->
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6 ucg-input">
                                    <mat-form-field class="w-100" appearance="outline">
                                        <mat-label>{{'formFields.zipCode' | translate}}</mat-label>
                                        <input matInput autocomplete="off"
                                            placeholder="{{'formFields.zipCode' | translate}}" tabindex="10" type="text"
                                            (keypress)="onKeyPress($event)" minlength="5" maxlength="6"
                                            formControlName="zipCode" required>
                                        <mat-error>
                                            <span
                                                *ngIf="(!tenantForm.get('zipCode')?.errors?.serverError && !tenantForm.get('zipCode')?.valid) && !zip && !tenantForm.get('zipCode')?.errors?.pattern">
                                                {{'requiredFields.zipCode' | translate }}</span>
                                            <span
                                                *ngIf="!tenantForm.get('zipCode')?.errors?.serverError && (zip || (tenantForm.get('zipCode')?.valid && !zip))">
                                                {{'requiredFields.zipCodeLength' | translate }}</span>
                                            <span *ngIf="tenantForm.get('zipCode')?.errors?.pattern | translate">
                                                {{'requiredFields.zipCodePattern' | translate}}</span>
                                        </mat-error>
                                        <mat-error>
                                            <span *ngIf="tenantForm.get('zipCode')?.errors?.serverError | translate">
                                                {{tenantForm.get('zipCode')?.errors?.serverError | translate}}</span>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="form-group col-md-6 ucg-input merchant-cls d-flex justify-content-between">
                                    <div>Merchant Key</div>
                                    <div class="last-elemnt">
                                        <span *ngIf="!tenant?.isOwnMerchantKey">Universal EV &nbsp; </span>
                                        <span *ngIf="tenant?.isOwnMerchantKey">Own Merchant Key &nbsp; </span>
                                        <img width="23px" class="pointer" style="filter: brightness(0.5);"
                                            (click)="openMerchantPopup()"
                                            src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABy0lEQVR4nO2Zz0oDMRDGgyffQPEPoiC+glfvvoEnqz34CM1UZ2gVD4qnasm01rsU30ZBES+eBetdK6l/WHTb7CbZdhfywZwWkt+X+SYLu0IURBJVCVC9AfE5Ik6JIgmIdyTxOxD3dUlUncKYAOKtKHykLgthAurtJYnqKcaA7kRD5FUSed1oAvlV5FFAXAZUH5L4ZJiJr1i1tkcvVO8sAnL3e/r7PksiPyC258wDy2dRHon8qM0BqT0jvCT14hvcAF+OHVjk02gn9GCb26hPPgv4A/Vcr/Oy6eThv+nfTiRSJrEZDl8eBf+T+ehgmw38WaCKvOlSlX21gXg1nfbkYRChBJnP0sAweImqlAm8TwMTgfdlYGLwWj4GFo8vVsQk4LUKDa/l+yXlAo8x6xllCy8Pm/N+4RuzEtWds4HUC3iArxy1ZjS81f7eDCR6w6rdOHggvrXe35cB24EFUvdO+2duwHDbwOB5Xg0kuCohtwYS3vOQFwO2gmCAQgecBCFCFCLkJAgRohAhJ0GIEIUIOQlChND/x13rQos/MYDqJkcGuqkNVGvttax+cKQpSeqlWmuuChsh8gIgX0vi3vjBuadP3ho+KCgoSIxDn1BaWVkh3LxMAAAAAElFTkSuQmCC">
                                    </div>
                                </div>

                                <!-- <div class="form-group col-md-6"> -->

                                <!-- </div> -->
                            </div>
                        </div>
                    </div>
                    <div class="btn-group d-grid gap-2 d-md-flex justify-content-md-end">
                        <button *ngIf="canUpdateTenant" [ngClass]="{'img-disable': parentTenantRequest}"
                            mat-raised-button color="primary" class="btn-primary mx-3" (click)="updateTenant();">
                            {{'button.update' | translate }}
                        </button>
                        <button mat-raised-button color="secondary" class="btn-secondary" (click)="cancel();">
                            {{'button.cancel' | translate }}
                        </button>
                        <button *ngIf="signUpInviteFlag" mat-raised-button color="primary" class="btn-primary mx-3"
                            (click)="signUpInvite();">
                            {{'button.signUpInvite' | translate }}
                        </button>
                    </div>
                </form>
            </div>

        </div>
    </div>


    <div class="card mat-elevation-z mb-3">
        <div class="card-body">
            <div class="row">
                <div class="col-md-5 lg-6">
                    <h2 class="h2">{{'allTypeContent.siteList' | translate }}</h2>
                </div>
                <!-- <div *ngIf="createTenant" class="col-md-6 lg-6 text-end">
            <span class="creation-button">
              <button mat-raised-button color="primary" class="btn-primary"
                (click)="navigateTenant();">{{'button.newTenant' | translate}}</button>
            </span>
          </div> -->
                <div class="col-md-7 lg-6 text-end">
                    <div class="head-right-outer">
                        <a class="btn-border mat-elevation-z icon-right" (click)="togglechnage()" mat-raised-button
                            data-bs-toggle="collapse" href="#multiCollapseExample1" role="button" aria-expanded="false"
                            aria-controls="multiCollapseExample1">Filter<span
                                class="material-symbols-outlined">{{this.chnageicon}}</span></a>
                        <a *ngIf="canCreateSite" class="btn-border mat-elevation-z" (click)="navigateSite();"
                            mat-raised-button href="javascript:;"><span class="material-symbols-outlined"
                                [ngClass]="{'img-disable': parentTenantRequest}">add</span> {{'button.newSite' |
                            translate }} </a>
                        <!-- CSV -->
                        <img class="download-btn" style="width: 45px;" title="CSV" type="button"
                            (click)="downloadCsvReport()"
                            src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEyklEQVR4nO2dW0xURxjH18RXH3zts4lJzRk4B2hQsRiTasFF17QYm1SttPpk4t1oPGdXVPDWaLxgEy0abQtGhW1FsASNilSMUbxBlBIVlQApKlDKRWCZZkgwIjN7O7vOgfP/JfPCzsnu+f/n++Y7M7uDwwEAAAAAAAAAAAAAwChC9aifEENNUwx1q2KoRYqhNsr+TGOSZE/y+Bg9ZgrRY5counqAGFoZMdRXxNDoh032Zx31TN4wbQLZEpekGNoKJraiqxVEV7t5YsMAkyiblImDYuvaKkXXTim6VkN0zRes2DDAZL4mJoSGARHI1wQGyM3XBAbIzdcEBgSPbGFJkM3pdX3kNv+ls9CV4og2soUlljXARecWul7AAEOeAazBAAMGSE8/BBEAA6KG7JFNEAHyxSVIQfIFJpgDrN2cKEPlGiDiQ2PCBc8BBgyQnmYIIkC+0AQpaLgIroNf035fvzB37i89EFC8GHccvf/iAfd634CPfnt0KQzwJ2DezdNCA151vKYJ26b6vX796Y3C68/eOocICDSCk7Jn0tbOVqGIWUU7hdfGeuLpk3+ecq9r7Wyjn++cFZQBti9DdxRlCw1obGui2tbPuMJtO58lvM7tzQx6DrC9AWwkP26qFYq5pcA9QjSWmprbm7n9qxuqaaw7HgaEUoksObaMDgwMcAV92vJshKAHyw5z+/p8PrrwyDchVUG2j4AhIf58WCqMgjX564fNG+1d7dx+v1XmowwNdzn6i70ptOttF1fYR42PB0tO1u9kxS/Cqml6VjIMMLMfkHP5J2EUZBxfTmdkz6Q9fW+5r28+p4f8fqyJsOVaUEJmIm1408C9Ee+d3+n28/yK6U591bsIgQEmd8TW5m/gitzR3UGrG2pG/L2vv48uOJQe1nshAgSi3KirDDrET1w/Gbb4MMDPOhEb2YFo+beFTt0xw5QBKEMFwuRV5gc0YOOZzabEhwF+hCm47Q1owKFLOTAgklXQUFuW+4Pwyfh9enp7aOq+NERAJA2Iz0wUrnLy+KvuBibhSBpw7FouV+iSBxfpfz2d3NdW561DFRQJA746vFBY/az8dRUtq7nEfa2prZkmbk9CGWrGALbieff5Pa7Az1rqqepJoEt/zqCRfh4QYbuliF3Fe4Q3sfq9FFNee53bh+0vp+csggHhGDDnx1Rhfn/4snrYOg9LU2zDnUdV/d2Q14SCHbljOgKuPLoqvIHvj68Y0b/4/kVhf6PQE5IBtn8SZk+zIsprK7iipexLo739vaY35G1vAFvfZxspPFia8be9eObWWdNfSbG9Ad6qP4QiXrhX7Fe4WXtm0+7ebqF5i49+BwP8CZiRu1y43MDSy9z98wIKmFt+Qmjg3811g6UrJmHBcgP7toOIYDfXp2cl0zbBBj1jd8leGGD1JsJWZSgMiAKyhSWIAPniEqQg6zcnfqQHA6KC7JFNEAHyxSVIQfIFJpgDrN2cmIRhQFSQPbIJIkC+uMSiKQiH9hnyDGDipxYs+NIRbXBwq0WPLlYMLW7onGgcXWyxw7uJoe1iJ6Xj8G4LHl9PdPVJNCZh2fc5qlDwDxzG3rziAHLnFQf4aIz71KNOUtxx6YqhZhNdKyG62gT9AQAAAAAAAAAAAIDDYvwPUvjjcRhYfFIAAAAASUVORK5CYII=">
                        <!-- PDF -->
                        <img class="download-btn" style="width: 45px;" title="PDF" type="button"
                            (click)="downloadPdfReport()"
                            src="data:image/png;base64,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">
                        <a class="btn-back mat-elevation-z" (click)="back();" mat-raised-button
                            href="javascript:;"><span class="material-symbols-outlined">keyboard_backspace</span>
                            Back</a>
                    </div>
                </div>
            </div>
            <div class="filter-outer">
                <div class="collapse" id="multiCollapseExample1">
                    <div class="row">
                        <div class="col-md-3 lg-3">

                            <!-- <div class="input-group input-group-outline my-3">
                    <label class="form-label">Filter by Name</label>
                    <input type="text" [formControl]="nameControl" class="form-control">
                  </div> -->

                            <!-- <mat-form-field appearance="outline" class="w-100 ucg-input">
                                <mat-label>Filter by Sitename</mat-label>
                                <input type="text" matInput [formControl]="siteNameControl"
                                    [matAutocomplete]="autoSiteName"
                                    (change)="filterChange(filterSelectObj[0], $event)">
                                <mat-autocomplete autoActiveFirstOption #autoSiteName="matAutocomplete"
                                    (optionSelected)="filterChange(filterSelectObj[0], $event)">
                                    <mat-option *ngFor="let option of filteredBySiteName | async" [value]="option">
                                        {{option}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field> -->

                            <mat-form-field class="w-100 ucg-input" appearance="outline">
                                <mat-label>Filter by SiteName</mat-label>
                                <input matInput placeholder="Filter by Site Name" maxlength="150" min="3" max="150"
                                    [formControl]="siteNameControl">
                            </mat-form-field>

                        </div>
                        <div class="col-md-3 lg-3">

                            <!-- <mat-form-field appearance="outline" class="w-100 ucg-input">
                                <mat-label>Filter by Location</mat-label>
                                <input type="text" matInput [formControl]="locationControl"
                                    [matAutocomplete]="autoLocation"
                                    (change)="filterChange(filterSelectObj[1], $event)">
                                <mat-autocomplete autoActiveFirstOption #autoLocation="matAutocomplete"
                                    (optionSelected)="filterChange(filterSelectObj[1], $event)">
                                    <mat-option *ngFor="let option of filteredByLocation | async" [value]="option">
                                        {{option}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field> -->

                            <mat-form-field class="w-100 ucg-input" appearance="outline">
                                <mat-label>Filter by Location</mat-label>
                                <input matInput placeholder="Filter by Location" maxlength="150" min="3" max="150"
                                    [formControl]="locationControl">
                            </mat-form-field>
                        </div>
                        
                        <div class="col-md-3 lg-3">
                            <div class="form-check form-switch">
                                <mat-slide-toggle [color]="'primary'" [(ngModel)]="deletedRecords"
                                    (change)="toggleDeletedRecords()">Show Deleted Records</mat-slide-toggle>
                                <!-- <input class="form-check-input" (change)="toggleDeletedRecords()" type="checkbox" id="flexSwitchCheckDefault" checked="">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Show Deleted Records</label> -->
                            </div>
                        </div>
                        <div class="col-md-3 lg-3">
                            <a href="javascript:;" mat-raised-button class="reset-btn mat-elevation-z"
                                (click)="resetFilters()"><span class="material-symbols-outlined">restart_alt</span>
                                Reset</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="body-content-outer">
                <div class="row">
                    <div class="col-md-12 lg-12">

                        <div class="ucg-table">
                            <mat-table #table [dataSource]="dataSource" matSort matSortActive="registrationDate"
                                matSortDirection="desc" matPaginator>

                                <ng-container matColumnDef="registrationDate">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> </mat-header-cell>
                                    <mat-cell *matCellDef="let element"> {{element.registrationDate |
                                        date:"MM-dd-yyyy h:mm a"}} </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="siteId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.siteId' |
                                        translate }}.
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let element"> {{element.tenantId}} </mat-cell>
                                </ng-container>

                                <!-- <ng-container matColumnDef="name">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.name' |
                                        translate }}
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let element" class="textMaxLength"
                                        [ngClass]="{'disable-link': deletedRecords}" (click)="siteEdit(element);"
                                        style="cursor:pointer;"> {{element.name}} </mat-cell>
                                </ng-container> -->

                                <ng-container matColumnDef="customerId">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.customerId' |
                                        translate }}
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let element"> {{element.customerId}} </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="siteAddress">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.siteAddress' |
                                        translate }}
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let element"> {{element.location}} </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="level2Rate">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.level2Rate' |
                                        translate }}
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let element"> {{element.level2Rate}} </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="dcFastRate">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.DCFastRate' |
                                        translate }}
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let element"> {{element.dcFastRate}} </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="utilityOwner">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header> {{'table.header.utilityOwner' |
                                        translate }}
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let element"> {{element.utilityOwner}} </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="numberChargePorts">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header>
                                        {{'table.header.numberChargePorts' | translate }}
                                    </mat-header-cell>
                                    <mat-cell *matCellDef="let element"> {{element.numberChargePorts}} </mat-cell>
                                </ng-container>

                                <ng-container matColumnDef="status" style="cursor: default;cursor:pointer;">
                                    <mat-header-cell *matHeaderCellDef class="wd-200 action-column"
                                        [ngClass]="{'disable-link hide': deletedRecords}"> Action </mat-header-cell>
                                    <mat-cell *matCellDef="let element" class="wd-200 action-column"
                                        [ngClass]="{'disable-link hide': deletedRecords}">


                                        <div class="table-action">
                                            <!-- *ngIf="!element.isRequestRaised && canDeleteSite" -->
                                            <a matTooltip="Site Details" mat-mini-fab color="primary"
                                                href="javascript:;" (click)="siteEdit(element)"
                                                class="table-action-btn">
                                                <span class="material-symbols-outlined">info</span>
                                            </a>
                                            <a href="javascript:;" mat-mini-fab color="warn" matTooltip="Delete Site"
                                                *ngIf="!element.isRequestRaised && canDeleteSite"
                                                (click)="deleteSite(element)" class="table-action-btn">
                                                <span class="material-symbols-outlined">delete</span>
                                            </a>
                                            <a href="javascript:;" mat-mini-fab color="accent"
                                                matTooltip="Generate Report"
                                                *ngIf="element.registrationDate !== '0001-01-01T00:00:00'"
                                                (click)="generateReport(element)" class="table-action-btn">
                                                <img width="20"
                                                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACD0lEQVR4nO2XP07DMBSHU1WUHYHYUblFF8QVECyIkZEbFImNmRPQBS7BgBg4A0hcAMGKABXxIYORgrGbpHXsB33f1vzp++Xzs50UhaIoiqLUhnS8AbvFHAuQKYH0yJJAHuRIwKHt/xcngXwCZEggvYCx5/dO7LqSBWx5JOTrBBILsMfkSCCDAFESyCRAjAQyChAhgcQCGpBGAnIFGMax8/w1AdHz/EIFOBSZSZ4HFZDYuLQBQQX8JIHwjqgBIWFBYAm4BtYl5Jm6YNUoBu7pAZe2zI2R8ScFANvAWRMJ5lpg5JS6AhZnzTMzNCgIDIAXe+mwQY1D/Jy7IsUKANaA+9Kl73U+VmzHmGtDDMUL4GvxuvWEN90wqNkxIYyczSZ5okJFQWfx8vEA9D339e25Ms/AnnP8BOiKFIB/8fJxB6w4HWNWenxTxnbGE3DQJE8OAUPPw5puOAoc703oGHeurzbN0woECpp56Vm8Pvdv2xmnnoccBTpmVHfblCSgCxyXTj2W3+CABeCCarz7fdM8rUFFQWDfztcNzznfXHfXhuWYeaJDjYKh+TphtQ/uDjHyRIUIBe2qbra4b159HZMqT5aCpTe+Wm+IbefJUtC+8w+l5MkhoDPNp3JbeWQWlJYHFZDYuLQBQQUkNi5tQFABiY1LGxBUQGLj0gYEFSCb5B0gDRXQNsy7AEVRFKX4P3wAhYNEIMmf3PQAAAAASUVORK5CYII=">
                                            </a>
                                            <a href="javascript:;" mat-mini-fab color="success"
                                                matTooltip="Undo Delete Site"
                                                *ngIf="element.isRequestRaised && canDeleteSite && !deletedRecords"
                                                (click)="unDeleteSite(element)" class="table-action-btn">
                                                <span class="material-symbols-outlined">undo</span>
                                            </a>
                                        </div>



                                    </mat-cell>
                                </ng-container>

                                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                            </mat-table>

                            <div *ngIf="process" class="text-center norecord table-loader">

                                <div class="loader-inner">
                                    <mat-spinner [diameter]="40"></mat-spinner>
                                    <small>Loading</small>
                                </div>
                            </div>

                            <div *ngIf="!process && (dataSource.data.length == 0 || dataSource.filteredData.length == 0)"
                                class="norecord">
                                {{'table.noRecordFound' | translate}}</div>

                            <mat-paginator #paginator [length]="dataSource.data.length" [pageSize]="5"
                                [pageSizeOptions]="[5, 10, 20]" [showFirstLastButtons]="true">
                            </mat-paginator>





                            <!-- {{dataSource.data.length}} -->
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="pageloader" class="loader-outer">
    <div class="loader-inner">
      <mat-spinner [diameter]="40"></mat-spinner>
      <small>Loading</small>
    </div>
</div>
<!-- OLD Design -->